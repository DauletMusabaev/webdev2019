<body>
  <ng-container *ngIf="!logged">
    <div class= "loging">
      <input type='text' [(ngModel)]="login">
      <div><input type="password" [(ngModel)]="pass"></div>
      <div><button (click)="auth()">Log in</button></div>
    </div>
  </ng-container>

  <ng-container *ngIf="logged">
    <h1>Create Task:</h1>
    <div class="create">
      <input type="text" [(ngModel)]="name" />
      <button (click)="createTask()">Create</button>
    </div>
    <h1>Task Lists:</h1>
    <div class = "tasklist">
      <div *ngFor="let c of tasklists">
        <span (click)="getTasks(c)">{{c.name}}</span>
        <span (click)="getTasks(c)">
          <input type="text" [(ngModel)]="c.name" />
        </span>
        <span style="color: red" (click)="deleteTaskList(c)"> Удалить</span>
        <span style="color: green" (click)="updateTaskList(c)"> Изменить</span>
      </div>
    </div>
    <br/>
    <h1>Tasks:</h1>
    <div class = "task">
      <div *ngFor="let t of tasks">{{t.id}} - {{t.name}} - {{t.created_at}} - {{t.due_on}} - {{t.status}}</div>
    </div>
    <div class= "logouting">
      <button (click)="logout()">Log out</button>
    </div>
  </ng-container>
</body>
